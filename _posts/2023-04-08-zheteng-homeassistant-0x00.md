---
layout: post
title: "homeassistant系列之新的开始"
subtitle: '折腾系列-home-assistant智能家居中枢-0x00'
author: "chaoxiaodi"
header-style: text
tags:
  - home-assistant
  - homeassistant
  - 智能家居
  - 智障家具
  - 折腾记录
---

### 前言

经历了n多的波折后

终于拿到了房子的钥匙

关于之前一些对装修的设想也可以慢慢的进行下一步的规划了

第一次接触home-assistant应该是在2021年

当时发现这个异常强大的开源项目后

斥几百巨资买了一些相关的硬件进行了一波diy

钱花了、diy的快乐也得到了

但是房子却杳无音讯

本篇主要记录下接下来装修对智能家居系统的规划及想法

### 已经明确的

已经明确的一些想法

+ 网络能用有线接入的通通预留网线
+ 尽量不使用品牌强绑定产品
+ 尽量避免不能本地控制的产品
+ 选择智能开关 不选择智能灯
+ 智能开关选择wifi diy 使用esphome
+ 安装电动窗帘(论坛版)
+ 每个空间安装人体存在传感器
+ wifi网络5G与2.4G分开、同时2.4G不做高频绑定
+ 预留zigbee有线网关
+ 空气开关增加智能控制
+ 智能电表

#### 关于开关是用 zigbee 还是 wifi

在论坛微信群里 有不少大佬都是用的zigbee 号称稳如老狗

我没有用过zigbee 不好发表是否更好

但是zigbee更贵、更不容易diy

这是我选择wifi的理由

而且esp32芯片真的已经很强了

但是依然选择预留zigbee网关

可以为后期更换打好基础

#### 强电箱控制

在前期摸索过程中

已经了解过继电器这个东西

确定是可以实现电路通断的一个好帮手

然后就开始在淘宝搜索相关产品

在搜索智能电表的时候发现电表可以使用rs485协议进行通信

后来就去了解了下rs485 发现也是可以用的上的好东西

再后来就发现了一款差不多的产品

16A欧姆龙继电器模块
有多路可以选择
有rs485控制

再购买完后跟群里大佬讨论怎么应用的时候

大佬提出了一个叫接触器的东西

啊啊啊～～

为什么

为什么这么晚我才只知道这个东西

本来买的继电器模块是用来直接串在各个电路回路中

继电器同样有负载

后来发现了这个接触器之后

继电器可以只做控制使用
通过继电器控制接触器的通断

那样的话买个便宜的继电器模块就够啊

我的钱包在哭泣～～

附两张规划的电路图吧

![继电器负载](/img/zheteng-0x00-qdjdqfz.png)

上图为继电器负载
下图为继电器控制接触器负载

![继电器控制接触器负载](/img/zheteng-0x00-qdjcqfz.png)


#### 关于人体存在传感器

个人认为想要智能家居
而不是智障家居

除了强大的控制中枢外

各种传感器也是非常重要的一点

对于人体存在传感器也打算直接购买

论坛群里大佬自制的传感器

当然了大佬已经无私开源出来了

如果有动手能力强的大佬可以自己做

有了好的改进也希望能够反馈给大佬

[多功能人体存在传感器开源地址](https://github.com/liwei19920307/ESPMMW)

其实现在有不少可以选择的人体存在传感器

由于没有全屋吊顶的计划

那么一些吊顶安装的产品就可以直接pass了

### 尚未明确的

+ home-assistant是采用小主机exsi虚拟化还是单独部署
+ 是否使用openwrt
+ openwrt 是采用小主机 exsi虚拟化还是单独部署

### 一些应用场景(持续更新)

+ 开门
    
    家里是否有人、时间、光照情况

    是否需要开灯
    
    欢迎语
    
    一些提醒
    
    进门还是出门

+ 灯光

    玄关鞋柜直接采用雷达延时开关

    进入卫生间

    卫生间无人（长时间）

    半夜人员运动

    光照情况

+ 窗帘

    起床

    睡觉

    看电视

    夏日暴晒

+ 通风

    上完厕所/洗澡结束

    开始做饭/结束做饭

+ 一些智能家电是否可以接入

    洗碗机

    洗衣机

    燃气热水器

    冰箱

    电视

    空调

    扫地机器人
    做饭结束自动打扫厨房
    洗漱结束自动打扫卫生间
    每天定时打扫
    家里没人时打扫

    智能锁(出于成本考虑使用了防盗门自带锁、可能需要后期改造了)

### 后记

现在装修正在进行中···

正准备开始研究下rs485是如何接入到ha中的

已经采购相关的硬件

后面可能会出相关文章单独记录

[home-assistant 官网](https://www.home-assistant.io/)

[esphome 官网](https://esphome.io/)

[论坛 官网](https://bbs.hassbian.com/)

### 参考

Q：594934249

---我是超小弟·一名不务专业的秃头运维---

博客：[blog.chaoxiaodi.tech](https://blog.chaoxiaodi.tech)

github：[github:chaoxiaodi](https://github.com/chaoxiaodi)

微信公众号：老骥不伏枥只是近黄昏

![](/img/erweima.jpg)
